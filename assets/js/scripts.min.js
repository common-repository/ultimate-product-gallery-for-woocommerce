!function(t){"use strict";function o(){t(".upgfw-lightbox-container").removeClass("open"),t(".upgfw-lightbox-container").addClass("close"),a(),e(),t(".upgfw-lightbox-container").hide(500),t("html").css({overflow:"auto",height:"auto"})}function e(){t(".upgfw-lightbox-container iframe").each(function(){var o=t(this).attr("src");t(this).attr("src",""),t(this).attr("src",o)})}function i(o,i){e(),t(".upgfw-lightbox-thumbnails").mCustomScrollbar("scrollTo",t(".upgfw-lightbox-thumbnails").find("[data-upgfw-index="+o+"]")),t(".upgfw-lightbox-thumbnails li").removeClass("active"),t(".upgfw-lightbox-thumbnails").find("[data-upgfw-index="+o+"]").addClass("active"),t(".upgfw-lightbox-content li").removeClass("active"),t(".upgfw-lightbox-content").find("[data-upgfw-index="+o+"]").addClass("active"),"image"==i?t("#upgfw-lightbox-image-"+o).fadeOut(100,function(){t("#upgfw-lightbox-image-"+o).attr("src",t(this).attr("data-upgfw-src")).one("load",function(){var e;switch(parseInt(upgfw_script_vars.lightbox_zoom_lens_shape)){case 1:e="square";break;case 2:e="round";break;default:e="square"}t("#upgfw-loading-wrapper-"+o).fadeOut(100),t("#upgfw-lightbox-image-"+o).fadeIn(100),1==parseInt(upgfw_script_vars.lightbox_zoom_mode)&&t("#upgfw-lightbox-image-"+o).elevateZoom({zoomType:"lens",lensShape:e,lensSize:upgfw_script_vars.lightbox_zoom_lens_size,borderSize:upgfw_script_vars.lightbox_zoom_lens_border_size,borderColour:upgfw_script_vars.lightbox_zoom_lens_border_color,custom_class:"zoomContainerLightbox"})})}):"video"==i&&t("#upgfw-lightbox-video-"+o).fadeOut(100,function(){t("#upgfw-lightbox-video-"+o).attr("src",t(this).attr("data-upgfw-src")).one("load",function(){t("#upgfw-loading-wrapper-"+o).fadeOut(100),t("#upgfw-lightbox-video-"+o).fadeIn(100)})})}function a(){1==parseInt(upgfw_script_vars.image_zoom)&&t(".upgfw-product-image img.upgfw-thumbnail-image").elevateZoom({zoomWindowWidth:upgfw_script_vars.zoom_window_width,zoomWindowHeight:upgfw_script_vars.zoom_window_height,zoomWindowFadeIn:200,zoomWindowFadeOut:200,lensFadeIn:200,lensFadeOut:200,zoomWindowPosition:parseInt(upgfw_script_vars.zoom_window_position),borderSize:upgfw_script_vars.zoom_window_border_size,borderColour:upgfw_script_vars.zoom_window_border_color})}function n(){var o,e,i,a;switch(parseInt(upgfw_script_vars.lightbox_size)){case 1:o=0,e=0,i=0,a=0;break;case 2:o=20,e=20,i=10,a=10;break;case 3:o=200,e=30,i=15,a=100;break;case 4:o=400,e=100,i=50,a=200;break;default:o=200,e=30,i=15,a=100}t(".upgfw-lightbox-wrapper").css({width:t(window).width()-o,height:t(window).height()-e,top:i,left:a})}function r(){var o=t(".upgfw-lightbox-content").width();t(".upgfw-lightbox-container .upgfw-centered-flex").each(function(e,i){t(this).width(o)})}t(function(){n(),a(),t(".upgfw-lightbox-thumbnails").mCustomScrollbar({theme:"dark",scrollButtons:{enable:!!parseInt(upgfw_script_vars.lightbox_scrollbar_buttons)}})}),t(window).on("resize",n),t(window).on("resize",r),t(document).on("keydown",function(e){27==e.keyCode&&(t(".panWrapper").length?t(".panWrapper").is(":hidden")&&o():o())}),t(document).on("click",".upgfw-image-gallery ul li a",function(o){o.preventDefault(),t("html").css({overflow:"hidden",height:"100%"});var e=t(this).data("upgfw-index"),a=t(this).data("upgfw-type");t(".upgfw-lightbox-container").show(),t(".upgfw-lightbox-container").removeClass("close"),t(".upgfw-lightbox-container").addClass("open"),n(),r(),i(e,a)}),t(document).on("click",".upgfw-lightbox-thumbnails li",function(o){o.preventDefault(),i(t(this).attr("data-upgfw-index"),t(this).attr("data-upgfw-type"))}),t(document).on("click",".upgfw-lightbox",function(e){t(event.target).closest(".upgfw-lightbox-wrapper").length||t(event.target).closest(".zoomContainer").length||o()}),t(document).on("click",".upgfw-lightbox-close",function(t){o()})}(jQuery);